[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log

[unix_http_server]
file = /var/tmp/supervisor.sock
chmod = 0777

[program:telnetd]
command=/usr/sbin/busybox telnetd -F -l /bin/bash
autorestart=true
stdout_logfile=/var/log/supervisor/telnetd.log
redirect_stderr=true

[program:nginx]
command=/usr/sbin/nginx
autorestart=true

[program:ipynb]
command=/usr/bin/ipython notebook --no-browser
environment=IPYTHONDIR=/opt/ipython/
directory=/home/researcher
user=researcher
autorestart=true
stdout_logfile=/var/log/supervisor/ipynb.log
redirect_stderr=true

[program:tty]
command=/opt/tty.js/bin/tty.js --config /opt/tty.json
directory=/home/researcher
user=researcher
autorestart=true
stdout_logfile=/var/log/supervisor/tty.js.log
redirect_stderr=true
environment=HOME=/home/researcher,PS1="\[\033[01;32m\]\W\[\033[0m\] \$ "

[fcgi-program:easydav]
command=/opt/easydav/webdav.fcgi
directory=/opt/easydav
user=researcher
autorestart=true
stdout_logfile=/var/log/supervisor/easydav.log
redirect_stderr=true
socket=unix:///var/run/%(program_name)s.sock
socket_owner=nginx
