<html>
<head>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/sammy.js/0.7.4/sammy.min.js"></script>
</head>
<style type="text/css">
#main {
  position: absolute;
  top: 51px;
  left: 0;
  height: calc(100% - 51px);
  width: 100%;
}

iframe {
  height: 100%;
  width: 100%;
  border: 0;
}
</style>

<script type="text/javascript">
function showNavLocation($iframe, location) {
  $('iframe').hide();
  $('.navbar-nav a').each(function(i, e) {
    //console.log($(e).attr('href'));
    if ($(e).attr('href') == location) {
      $(e).parent().addClass('active');
    } else {
      $(e).parent().removeClass('active');
    }
  });
  $iframe.show();
}

var app = Sammy('#main', function() {

  this.get('#/ipynb', function() {
    showNavLocation($('#ipynb'), '#/ipynb');
  });
   
  this.get('#/tty', function() {
    showNavLocation($('#tty'), '#/tty');
  });
      
  this.get('#/files', function() {
   showNavLocation($('#files'), '#/files');
  });
});

$(document).ready(function() {
  $('iframe').hide();
  app.run('#/ipynb');
});
</script>
<body>

<nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">DIT4C</span>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="#/ipynb">iPython Notebooks</a></li>
        <li><a href="#/tty">Shell Terminals</a></li>
        <li><a href="#/files">File Management</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<div id="main">
  <iframe id="ipynb" src="/ipynb/"></iframe>
  <iframe id="tty"   src="/tty/"></iframe>
  <iframe id="files"   src="/files/"></iframe>
</div>
</body>
</html>